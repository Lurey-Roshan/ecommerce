{%extends 'main.html'%}
{% load static %}
{% block content%}
<h3>Cart page</h3>
<a href="{% url 'checkout'%}">CheckOut</a>
<p>No of cart items: {{cartItems}}</p>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Items </th>
      <th scope="col">Total(Rs.)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{order.get_cart_items}}</td>
      <td>{{order.get_cart_total|floatformat:2}}</td>
    </tr>
  </tbody>
</table>
<table class="table">
  <thead>
    <tr>
      <th scope="col"><strong></strong></th>
      <th scope="col"><strong>Name</strong></th>
      <th scope="col"><strong>Price</strong></th>
      <th scope="col"><strong>Quantity</strong></th>
      <th scope="col"><strong>total</strong></th>
    </tr>
  </thead>
  <tbody>

{% for i in items%}
    <tr>
      <th scope="row">
      	{%if i.product.image %}<img style="height: 10px;width: 10px;" src="{{i.product.image.url}}">
      {%endif %}</th>
      <td>{{i.product.name}}</td>
      <td>{{i.product.price|floatformat:2}}</td>
      <td><p>{{i.quantity}}

            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up-fill chg-quantity update-cart " viewBox="0 0 16 16" data-product="{{i.product.id}}" data-action="add" >
                 <path d="M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"/>
              </svg>
            </div>
      
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill chg-quantity update-cart" viewBox="0 0 16 16" data-product="{{i.product.id}}" data-action="remove" >
                <path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
              </svg>
            </div>
        </p>
    
      </td>
      <td>{{i.get_total|floatformat:2}}</td>
    </tr>
{% endfor %}
    
  </tbody>
</table>


{% endblock %}